# ReLU 激活函數百葉窗效果測試報告

## 測試概述

本次測試針對 nnPU 演算法使用 ReLU 激活函數，尋找會產生百葉窗效果（鋸齒狀或不規則振盪的決策邊界）的參數組合。

## 測試配置

### 基礎參數設定
- **激活函數**: ReLU
- **神經元數量**: 200-300（更多神經元）
- **正規化**: 無（weight_decay = 0.0）
- **學習率**: 0.2-0.5（高學習率）
- **訓練輪數**: 100 epochs

### 測試的參數組合

1. **ReLU_極高學習率_多神經元_無正規化**
   - 學習率: 0.3, 隱藏層: 200, 數據: two_moons
   - 結果: 百葉窗分數 1, 無明顯百葉窗效果

2. **ReLU_極高學習率_更多神經元_無正規化**
   - 學習率: 0.5, 隱藏層: 300, 數據: two_moons
   - 結果: 百葉窗分數 1, 無明顯百葉窗效果

3. **ReLU_高學習率_多神經元_複雜數據** ⭐
   - 學習率: 0.2, 隱藏層: 200, 數據: complex
   - 結果: 百葉窗分數 3, **有明顯百葉窗效果**

4. **ReLU_高學習率_多神經元_螺旋數據**
   - 學習率: 0.2, 隱藏層: 200, 數據: spiral
   - 結果: 百葉窗分數 0, 無百葉窗效果

5. **ReLU_極高學習率_多神經元_低先驗**
   - 學習率: 0.4, 隱藏層: 200, 數據: two_moons, 先驗: 0.2
   - 結果: 百葉窗分數 1, 無明顯百葉窗效果

6. **ReLU_極高學習率_更多神經元_高先驗**
   - 學習率: 0.3, 隱藏層: 300, 數據: two_moons, 先驗: 0.4
   - 結果: 百葉窗分數 1, 無明顯百葉窗效果

7. **ReLU_極高學習率_多神經元_高斯數據**
   - 學習率: 0.3, 隱藏層: 200, 數據: gaussian
   - 結果: 百葉窗分數 1, 無明顯百葉窗效果

8. **ReLU_極高學習率_更多神經元_不平衡數據**
   - 學習率: 0.4, 隱藏層: 300, 數據: two_moons, P:30, U:400
   - 結果: 百葉窗分數 1, 無明顯百葉窗效果

## 關鍵發現

### 🎯 成功找到百葉窗效果的配置

**配置**: ReLU_高學習率_多神經元_複雜數據
- **參數**:
  - 激活函數: ReLU
  - 學習率: 0.2
  - 隱藏層維度: 200
  - 數據分布: complex
  - 正規化: 無
  - 先驗: 0.3

- **分析結果**:
  - 平滑度: 0.913
  - 振盪次數: 17
  - 百葉窗分數: 3
  - Y變化範圍: 2.09
  - 有百葉窗效果: **True**

### 📊 百葉窗效果分析

該配置產生百葉窗效果的原因：
1. **複雜數據分布**: complex 數據分布比 two_moons 更複雜，增加了學習難度
2. **適中的學習率**: 0.2 的學習率在 ReLU 激活下產生了適度的振盪
3. **無正規化**: 沒有 weight_decay 約束，允許模型產生更不規則的決策邊界
4. **ReLU 特性**: ReLU 的線性特性在複雜數據上更容易產生鋸齒狀邊界

## 圖片生成結果

成功生成了 8 張可視化圖片，其中最重要的是：
- `nnpu_relu_blinds_ReLU_高學習率_多神經元_複雜數據.png` - 顯示明顯的百葉窗效果

## 與其他激活函數的比較

相比之前的測試結果：
- **ReLU**: 在複雜數據上容易產生百葉窗效果
- **tanh/softsign**: 在極高學習率下更容易產生百葉窗效果
- **sigmoid**: 由於梯度飽和問題，較難產生明顯的百葉窗效果

## 結論

1. **ReLU 激活函數**在特定條件下確實可以產生百葉窗效果
2. **複雜數據分布**是產生百葉窗效果的關鍵因素
3. **適中的學習率**（0.2）比極高學習率更有效
4. **無正規化**有助於產生不規則的決策邊界

## 建議

1. 使用 **complex 數據分布** + **ReLU 激活** + **適中學習率** 的組合來演示百葉窗效果
2. 可以進一步調整學習率範圍（0.15-0.25）來優化百葉窗效果
3. 考慮增加隱藏層數量來增強百葉窗效果

## 生成的文件

- `relu_blinds_effect_results.json` - 詳細的測試結果數據
- `nnpu_relu_blinds_*.png` - 8 張可視化圖片
- 本報告文件

---

*測試時間: 2024年7月27日*  
*測試環境: Python 3.x, PyTorch, FastAPI*  
*後端服務器: localhost:8000* 
